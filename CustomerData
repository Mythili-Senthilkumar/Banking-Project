package bank;

	import java.sql.*;
	import java.util.ArrayList;
	import java.util.List;


public class CustomerData {
	
		public static List<Customer> Viewall(Connection connection) {
	        List<Customer> customers = new ArrayList<>();
	        String query = "SELECT * FROM Account";
	        try (PreparedStatement ps = connection.prepareStatement(query);
	             ResultSet rs = ps.executeQuery()) {
	            while (rs.next()) {
	                Customer customer = new Customer(
	                    rs.getLong("accountNumber"),
	                    rs.getString("fullName"),
	                    rs.getString("email"),
	                    rs.getDouble("balance"), 
	                    rs.getDate("sqldate")
	                );
	                customers.add(customer);
	            }
	        } catch (SQLException e) {
	            e.printStackTrace();
	        }
	        return customers;
	    }

	    public static Customer View(Connection connection, long accNum) {
	        String query = "SELECT * FROM Account WHERE accountNumber = ?";
	        try (PreparedStatement ps = connection.prepareStatement(query)) {
	            ps.setLong(1, accNum);
	            ResultSet rs = ps.executeQuery();
	            if (rs.next()) {
	                return new Customer(
	                    rs.getLong("accountNumber"),
	                    rs.getString("fullName"),
	                    rs.getString("email"),
	                    rs.getDouble("balance"),
	                    rs.getDate("sqldate")
	                );
	            }
	        } catch (SQLException e) {
	            e.printStackTrace();
	        }
	        return null; 
	    }
	}

